x_data
rstardew::make_snake_case(x_char = colnames(x_data))
#'
#' @param x_data a data.frame or matrix with column names
#'
#' @return a data.frame or matrix with snake case column names
#' @export
#'
#' @examples
#' make_cols_snake_case(x_data =
#' data.frame("Space  Col" = c(1,2,3),
#' check.names = FALSE))
make_cols_snake_case <- function(x_data) {
colnames(x_data) <- rstardew::make_snake_case(x_char = colnames(x_data))
return(x_data)
}
make_cols_snake_case(x_data =
data.frame("Space  Col" = c(1,2,3),
check.names = FALSE))
gsub("\\.", "", ".")
usethis::use_test("make_cols_snake_case")
?expect_equal
test_that("make_cols_snake_case() removes spaces and lowercases", {
expect_equal(object =
make_cols_snake_case(x_data =
data.frame("Space  Col" = c(1,2,3),
check.names = FALSE)),
expected = data.frame(space_col = c(1,2,3)))
})
devtools::test()
devtools::document()
big_craftables <-
readr::read_csv(file = "data-raw/files/Big Craftables.csv") %>%
rstardew::make_cols_snake_case()
View(big_craftables)
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
rstardew::make_cols_snake_case()
view(crops)
View(crops)
source('~/Projects/rstardew/R/big_craftables.R', echo=TRUE)
source('~/Projects/rstardew/R/crops.R', echo=TRUE)
furniture <-
read.csv(file = "data-raw/furniture.csv") %>%
rstardew::make_cols_snake_case()
furniture <-
read.csv(file = "data-raw/Furniture.csv") %>%
rstardew::make_cols_snake_case()
furniture <-
read.csv(file = "data-raw/files/Furniture.csv") %>%
rstardew::make_cols_snake_case()
View(furniture)
furniture <-
read.csv(file = "data-raw/files/Furniture.csv") %>%
rstardew::make_cols_snake_case() %>%
dplyr::separate(col = source_rectangle,
into = c("source_rectangle_width", "source_rectangle_height"),
sep = " ",
fill = "right")
furniture <-
read.csv(file = "data-raw/files/Furniture.csv") %>%
rstardew::make_cols_snake_case() %>%
tidyr::separate(col = source_rectangle,
into = c("source_rectangle_width", "source_rectangle_height"),
sep = " ",
fill = "right")
View(furniture)
furniture <-
read.csv(file = "data-raw/files/Furniture.csv") %>%
rstardew::make_cols_snake_case() %>%
tidyr::separate(col = source_rectangle,
into = c("source_rectangle_width", "source_rectangle_height"),
sep = " ",
fill = "right") %>%
tidyr::separate(col = bounding_box,
into = c("bounding_box_width", "bounding_box_height"),
sep = " ",
fill = "right")
View(furniture)
source('~/Projects/rstardew/R/furniture.R', echo=TRUE)
furniture <-
readr::read_csv(file = "data-raw/files/Furniture.csv") %>%
rstardew::make_cols_snake_case() %>%
tidyr::separate(col = source_rectangle,
into = c("source_rectangle_width", "source_rectangle_height"),
sep = " ",
fill = "right") %>%
tidyr::separate(col = bounding_box,
into = c("bounding_box_width", "bounding_box_height"),
sep = " ",
fill = "right")
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv")
View(hats)
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
rstardew::make_cols_snake_case()
source('~/Projects/rstardew/R/hats.R', echo=TRUE)
weapons <-
readr::read_csv(file = "data-raw/files/Weapons.csv")
View(weapons)
source('~/Projects/rstardew/data-raw/weapons.R', echo=TRUE)
objects <-
readr::read_csv(file = "data-raw/files/Objects.csv")
View(objects)
source('~/Projects/rstardew/data-raw/crops.R', echo=TRUE)
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
rstardew::make_cols_snake_case()
problems(...)
readr::problems()
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
rstardew::make_cols_snake_case()
readr::problems()
problems(crops)
readr::problems(crops)
length(c("ObjectId","Days in Stage 1 Growth","Days in Stage 2 Growth","Days in Stage 3 Growth","Days in Stage 4 Growth","Days in Stage 5 Growth","Growth Seasons","Index In Sprite Sheet","Index Of Harvest","Regrow After Harvest","Harvest Method","Chance For Extra Harvest","Min Extra Harvest","Max Extra Harvest","Max Harvest Increase Per Farming Level","Chance For Extra Crops","Raised Seeds","Tint Color"))
length(c("491","1","1","1","1","NA","fall","19","278","-1","0","false","NA","NA","NA","NA","false","false",,))
length(c("491","1","1","1","1","NA","fall","19","278","-1","0","false","NA","NA","NA","NA","false","false","",""))
dim(crops)
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
rstardew::make_cols_snake_case()
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
rstardew::make_cols_snake_case()
View(crops)
source('~/Projects/rstardew/data-raw/weapons.R', echo=TRUE)
source('~/Projects/rstardew/R/hats.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/big_craftables.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/crops.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/furniture.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/hats.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/crops.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/weapons.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/hats.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/furniture.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/big_craftables.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/crops.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/weapons.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/big_craftables.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/hats.R', echo=TRUE)
lenghtc("ObjectId","Name","Description","SkipHairDraw","IgnoreHairstyleOffset")
lenght(c("ObjectId","Name","Description","SkipHairDraw","IgnoreHairstyleOffset"))
length(c("ObjectId","Name","Description","SkipHairDraw","IgnoreHairstyleOffset"))
length(c("45","Logo Cap","A red cap with a logo on the front.","false","true"))
source('~/Projects/rstardew/data-raw/hats.R', echo=TRUE)
length("46","Wearable Dwarf Helm","A slightly larger, human sized version of the helmets worn by dwarves.","hide","true")
length(c("46","Wearable Dwarf Helm","A slightly larger, human sized version of the helmets worn by dwarves.","hide","true"))
source('~/Projects/rstardew/data-raw/big_craftables.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/crops.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/big_craftables.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/furniture.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/hats.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/weapons.R', echo=TRUE)
big_craftables <-
readr::read_csv(file = "data-raw/files/Big Craftables.csv") %>%
rstardew::make_cols_snake_case()
source('~/Projects/rstardew/data-raw/hats.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/big_craftables.R', echo=TRUE)
source('~/Projects/rstardew/data-raw/big_craftables.R', echo=TRUE)
length(c("151","Marble Brazier","500","-300","Crafting","-9","Provides a moderate amount of light.","true","true","0","Marble Brazier"))
length(c("152","Wood Lamp-post","50","-300","Crafting","-9","Provides a good amount of light.","true","true","0","true","Wood Lamp-post"))
View(big_craftables)
View(big_craftables[87:89,])
View(big_craftables[80:89,])
big_craftables <-
readr::read_csv(file = "data-raw/files/Big Craftables.csv") %>%
rstardew::make_cols_snake_case()
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
rstardew::make_cols_snake_case()
View(hats[55:65])
View(hats[55:65,])
View(hats[58:62,])
length(c("72","Green Turban","A green silk turban with a gold ornament on the front.","false","true"
))
length(c("73","Magic Cowboy Hat","It's shimmering with prismatic energy","false","true","Prismatic"
))
length(c("74","Magic Turban","It's shimmering with prismatic energy","false","true","Prismatic"
))
79.56	 + (81.50)/2
dim(hats)
source('~/Projects/rstardew/data-raw/hats.R', echo=TRUE)
library(magrittr)
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
rstardew::make_cols_snake_case()
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
rstardew::make_cols_snake_case()
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
rstardew::make_cols_snake_case()
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv")
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv")
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv")
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
rstardew::make_cols_snake_case()
library(rstardew)
source('~/Projects/rstardew/data-raw/big_craftables.R', echo=TRUE)
big_craftables <-
readr::read_csv(file = "data-raw/files/Big Craftables.csv")
source('~/Projects/rstardew/R/utils_make_cols_snake_case.R', echo=TRUE)
source('~/Projects/rstardew/R/utils_make_snake_case.R', echo=TRUE)
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
rstardew::make_cols_snake_case()
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
make_cols_snake_case()
source('~/Projects/rstardew/R/utils_make_cols_snake_case.R', echo=TRUE)
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
make_cols_snake_case()
usethis::use_data(hats, overwrite = TRUE)
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
make_cols_snake_case()
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv")
big_craftables <-
readr::read_csv(file = "data-raw/files/Big Craftables.csv") %>%
make_cols_snake_case()
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
make_cols_snake_case()
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv")
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
make_cols_snake_case()
View(hats)
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
make_cols_snake_case()
hats <-
readr::read_csv(file = "data-raw/files/Hats.csv") %>%
make_cols_snake_case()
usethis::use_data(hats, overwrite = TRUE)
source('~/Projects/rstardew/data-raw/hats.R')
source("data-raw/big_craftables.R")
source("data-raw/crops.R")
source("R/utils_make_snake_case.R")
source("R/utils_make_cols_snake_case.R")
source("data-raw/big_craftables.R")
source("data-raw/crops.R")
source("data-raw/furniture.R")
source("data-raw/hats.R")
source("data-raw/weapons.R")
rm(list("make_snake_case",
"make_cols_snake_case"))
rm(list(c("make_snake_case",
"make_cols_snake_case")))
?rm
rm(list = c("make_snake_case",
"make_cols_snake_case"))
usethis::use_readme_rmd()
?install_github
?devtools::install_github
devtools::install_github("hadley/emo")
?usethis::use_package()
?usethis::use_package("emo", type = "suggests")
?usethis::use_package("emo", type = "Suggests")
emo::ji("smile")
View(crops)
?tidyr::spread
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(var = 1) %>%
tidyr::pivot_wider(names_from = growth_season,
values_from = val)
## Load data-loading helper functions
source("R/utils_make_snake_case.R")
source("R/utils_make_cols_snake_case.R")
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(var = 1) %>%
tidyr::pivot_wider(names_from = growth_season,
values_from = val)
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(var = 1) %>%
tidyr::pivot_wider(names_from = growth_seasons,
values_from = val)
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(var = 1) %>%
tidyr::pivot_wider(names_from = growth_seasons,
values_from = var)
View(crops)
stringi::stri_match("sprint", "sprint")
?stringi::stri_match("sprint", "sprint")
?grepl
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(growth_seaons_spring =
grepl(pattern = "spring", x = growth_seasons))
View(crops)
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(growth_season_spring =
grepl(pattern = "spring", x = growth_seasons),
growth_season_summer =
grepl(pattern = "summer", x = growth_seaons),
growth_season_fall =
grepl(pattern = "fall", x = growth_seasons),
growth_season_winter =
grepl(pattern = "winter", x = growth_seasons))
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(growth_season_spring =
grepl(pattern = "spring", x = growth_seasons),
growth_season_summer =
grepl(pattern = "summer", x = growth_seasons),
growth_season_fall =
grepl(pattern = "fall", x = growth_seasons),
growth_season_winter =
grepl(pattern = "winter", x = growth_seasons))
View(crops)
as.logical(crops$tint_color)
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(growth_season_spring =
grepl(pattern = "spring", x = growth_seasons),
growth_season_summer =
grepl(pattern = "summer", x = growth_seasons),
growth_season_fall =
grepl(pattern = "fall", x = growth_seasons),
growth_season_winter =
grepl(pattern = "winter", x = growth_seasons)) %>%
tidyr::separate(col = tint_color,
into = c("tint_color", "tint_color_value"),
sep = " ",
fill = "right")
?tidyr::separate
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(growth_season_spring =
grepl(pattern = "spring", x = growth_seasons),
growth_season_summer =
grepl(pattern = "summer", x = growth_seasons),
growth_season_fall =
grepl(pattern = "fall", x = growth_seasons),
growth_season_winter =
grepl(pattern = "winter", x = growth_seasons)) %>%
tidyr::separate(col = tint_color,
into = c("tint_color", "tint_color_value"),
sep = " ",
extra = "merge",
fill = "right")
View(crops)
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(growth_season_spring =
grepl(pattern = "spring", x = growth_seasons),
growth_season_summer =
grepl(pattern = "summer", x = growth_seasons),
growth_season_fall =
grepl(pattern = "fall", x = growth_seasons),
growth_season_winter =
grepl(pattern = "winter", x = growth_seasons)) %>%
tidyr::separate(col = tint_color,
into = c("tint_color", "tint_color_value"),
sep = " ",
extra = "merge",
fill = "right") %>%
dplyr::mutate(tint = as.logical(tint))
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(growth_season_spring =
grepl(pattern = "spring", x = growth_seasons),
growth_season_summer =
grepl(pattern = "summer", x = growth_seasons),
growth_season_fall =
grepl(pattern = "fall", x = growth_seasons),
growth_season_winter =
grepl(pattern = "winter", x = growth_seasons)) %>%
tidyr::separate(col = tint_color,
into = c("tint_color", "tint_color_value"),
sep = " ",
extra = "merge",
fill = "right") %>%
dplyr::mutate(tint_color = as.logical(tint_color))
for (i in 1:ncol(crops)) {print(class(crops[, i]))}
class(crops$objectid)
summary(crops)
print(dim(crops))
print(class(crops))
print(class(crops[, 1]))
colnames(crops)
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(growth_season_spring =
grepl(pattern = "spring", x = growth_seasons),
growth_season_summer =
grepl(pattern = "summer", x = growth_seasons),
growth_season_fall =
grepl(pattern = "fall", x = growth_seasons),
growth_season_winter =
grepl(pattern = "winter", x = growth_seasons)) %>%
dplyr::select(-growth_seasons) %>%
tidyr::separate(col = tint_color,
into = c("tint_color", "tint_color_value"),
sep = " ",
extra = "merge",
fill = "right") %>%
dplyr::mutate(tint_color = as.logical(tint_color)) %>%
dplyr::select(objectid,
dplyr::contains(match = "^days_in_stage"),
dplyr::contains(match = "^growth_season"),
dplyr::everything())
View(crops)
colnames(crops)
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(growth_season_spring =
grepl(pattern = "spring", x = growth_seasons),
growth_season_summer =
grepl(pattern = "summer", x = growth_seasons),
growth_season_fall =
grepl(pattern = "fall", x = growth_seasons),
growth_season_winter =
grepl(pattern = "winter", x = growth_seasons)) %>%
dplyr::select(-growth_seasons) %>%
tidyr::separate(col = tint_color,
into = c("tint_color", "tint_color_value"),
sep = " ",
extra = "merge",
fill = "right") %>%
dplyr::mutate(tint_color = as.logical(tint_color)) %>%
dplyr::select(objectid,
dplyr::contains(match = "^days_in_stage"),
dplyr::contains(match = "^growth_season"))
colnames(crops)
?dplyr::contains
crops <-
readr::read_csv(file = "data-raw/files/Crops.csv") %>%
make_cols_snake_case() %>%
dplyr::mutate(growth_season_spring =
grepl(pattern = "spring", x = growth_seasons),
growth_season_summer =
grepl(pattern = "summer", x = growth_seasons),
growth_season_fall =
grepl(pattern = "fall", x = growth_seasons),
growth_season_winter =
grepl(pattern = "winter", x = growth_seasons)) %>%
dplyr::select(-growth_seasons) %>%
tidyr::separate(col = tint_color,
into = c("tint_color", "tint_color_value"),
sep = " ",
extra = "merge",
fill = "right") %>%
dplyr::mutate(tint_color = as.logical(tint_color)) %>%
dplyr::select(objectid,
dplyr::starts_with(match = "days_in_stage"),
dplyr::starts_with(match = "growth_season"),
dplyr::everything())
colnames(crops)
source('~/Projects/rstardew/data-raw/crops.R', echo=TRUE)
## TODO start croptimizer!! :D
## oops nope. first I need to find the price data for the crops, and join it to the crop data.
905 * 3
882 * 3
780 * 3
713 * 3
690 * 3
684 * 3
679 * 3
783 * 2
crops_object_information <-
readr::read_csv(file = "data-raw/files/Crops Object Information.csv") %>%
make_cols_snake_case()
library(magrittr)
crops_object_information <-
readr::read_csv(file = "data-raw/files/Crops Object Information.csv") %>%
make_cols_snake_case()
crops_object_information <-
readr::read_csv(file = "data-raw/files/Crops Object Information.csv") %>%
make_cols_snake_case()
## Load data-loading helper functions
source("R/utils_make_snake_case.R")
source("R/utils_make_cols_snake_case.R")
crops_object_information <-
readr::read_csv(file = "data-raw/files/Crops Object Information.csv") %>%
make_cols_snake_case()
usethis::use_data(crops_object_information, overwrite = TRUE)
source('~/Projects/rstardew/data-raw/1_load_all.R', echo=TRUE)
test <- dplyr::left_join(crops, crops_object_information)
View(test)
sort(unique(crops_object_information$objectid))
sort(unique(crops$objectid))
View(crops_object_information)
View(crops)
